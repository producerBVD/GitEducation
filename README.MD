### Работа с удаленными репозиториями

1. Создать аккаут на GitHub
2. Создать локальный репозиторий
3. Создать удаленный репозиторий
4. Создать локальный репозиторий с удаленным

# Создание удаленного репозитория

Создадим новый репозиторий на GitHub. Для этого на сайте GitHub кликните на значок плюса справа сверху или перейдите [по ссылке](https://github.com/new). 

Перед нами откроется следующая форма:

![альтернативый текст](https://lh6.googleusercontent.com/B_9sdU4S2ipRsVOfNXDlP1diu6FYq3GZhstRvnPpS3u0oDmXA4UdU_XqVWGk8DnzxcXc1Dw88nJnUFuo13OyaYiTo_zjiZfuwWbBJQ4nodzFiKQEJumI-cV_qGrDtWPb5v5lKL8dNJzLp9fBx8Ui9rQ)

* Owner (владелец) – выбрать персональный аккаунт, который будет иметь полный доступ к данному репозиторию.
* Repository name (название репозитория) – при названии репозитория принято использовать PascalCase (составные слова с заглавной буквы) и kebab-case (составные слова через дефис).
* Description (описание) – описание проекта.
* Public – кто угодно может просматривать репозиторий, но коммитить смогут только те аккаунты, которым вы предоставите доступ.
* Private – никто, кроме вас, не сможет коммитить или просматривать данный репозиторий без права доступа.
* Add a README file – создает readme.md файл, который нужен для добавления длинного описания.

После нажатия Create repository нас перекинет на страницу нашего нового репозитория. 

![альтернативный текст](https://lh4.googleusercontent.com/hUbhw70F2E3J0a0D99alj0aLx7rMIMxp136rq8_fdGiJh2Njbid-AQZZkh_rYeiJkG9AnKt2pVoFkPFINORLsbArhqt-XaOXENwMI6dC9DU9whJiqyZ1SOZc2pdJfQUVw7m3DCzGI7AVNAhW4TnNGWs)

Сейчас в созданном github repo нет никаких файлов. Чтобы их выгрузить из локального репозитория, нужно подключиться к удаленному.

## Настройка подключения к удаленному репозиторию

### Добавление удаленного репозитория. Команда git remote add origin

Чтобы добавить удаленный репозиторий и присвоить ему название, которое используется для удобства как сокращение адреса, просто выполните команду

```
git remote add origin <URL>
```

По умолчанию удаленный репозиторий называется origin, о чем было сказано ранее, но можно присваивать любое название.

Ссылочные объекты у подключаемого удаленного репозитория будут скопированы.

### Подключение по HTTPS
```
git remote add origin https://github.com/ИМЯПОЛЬЗОВАТЕЛЯ/РЕПОЗИТОРИЙ.git
```

С помощью https будет проще работать на нескольких устройствах нежели с перемещением ssh ключей между ними. А порт 443, который используется данным протоколом, обычно открыт. Но для работы с этим способом подключения может понадобиться введения логина и пароля, например, при клонировании приватного репозитория.

### Подключение по SSH
```
git remote add origin git@github.com:ИМЯПОЛЬЗОВАТЕЛЯ/РЕПОЗИТОРИЙ.git
```
Чтобы подключить репозиторий по ssh, нужно произвести генерацию пары SSH-ключей:

* В Git Bash прописываете одну из двух команд, вставив свою почту от GitHub аккаунта:
```
ssh-keygen -t ed25519 -C "ПОЧТА_GitHub_АККАУНТА"  
ssh-keygen -t rsa -b 4096 -C "ПОЧТА_GitHub_АККАУНТА"
```

* В директории С:/Users/имяпользователя/.ssh/ появятся файлы приватного и публичного (.pub) ключей. Публичный ключ необходимо прописать в настройках GitHub аккаунта, в разделе SSH Keys > Add new.
SSH является более безопасным протоколом, чем HTTPS, но и к тому же позволяет не прописывать каждый раз пароль, вместо этого сравнивается публичный ключ с хранящимся у вас.

Для изменения адреса подключенного удаленного репозитория используется:

```
git remote set-url <remote_name> <remote_url>
```

Первое значение ***(<remote_name>)*** — название удаленного репозитория, второе значение ***(<remote_url>)*** — новый url.

## Основы работы с удаленным репозиторием Git
### Просмотр удаленного репозитория
Для того чтобы просмотреть список названий удаленных репозиториев, которые были добавлены, используйте команду:

```
git remote
```
Указав ключ -v, можно просмотреть, какие адреса в добавленных удаленных репозиториях используются для чтения и записи.

Полный список удаленных ссылок можно получить с помощью команды:
```
git ls-remote <remote> 
```
Либо для получения удаленных веток и дополнительной информации используйте команду:
```
git remote show <remote> 
```
\<remote> — название удаленного репозитория, которое ему дали после подключения. Можно использовать и url интересующего удаленного репозитория.

![альтернативный текст](https://lh3.googleusercontent.com/LQo0MHepTB35iP1CKiNGy0g6Xq2IKvTecxBPQkmlTAXPBGMspS9xn2CUDU0B1YzFqoAyeFckweesrNveOvo-vRLQo1fJpz0sci_yaE4yno2Pe6KYU1ySA5X61PjIYf7xxg_94JEZp113kPf799KhI9E)

### Изменение удаленного репозитория

Чтобы отправить изменения (имя ветки) <branch-name> на сервер <remote-name>, задействуйте команду:

```
git push <remote-name> <branch-name>
```
Если ветка, которую вы хотите отправить, не отслеживается, то добавьте флаг —**set-upstream**. На примере ветки develop это будет выглядеть вот так:
```
git push --set-upstream origin develop
```
В GitHub же есть кнопка (Add file) для загрузки или создания файлов прямо в удаленном репозитории.

![альтернативный текст](https://lh6.googleusercontent.com/Mt5-_KWF9vVDqUC3wvCCRq8Bp9KOc9sE2Hcy2eDlg7QvWmdn1bz9XqKLp7fhq9CUQl3IIK7-nK3KCqV7OmEIKJSGsZQJuKuVm8kMeS372yobWXttzbdFtj5tKSBlfQmRXYawa_OmhJ8Gqoy7U-ckHDc)

Так же возможно переименование удаленного репозитория с прежнего имени \<old-name> на новое \<new-name>.

```
git remote rename <old-name> <new-name>
```
### Получение изменений из удаленного репозитория

Для связи с указанным удаленным репозиторием используется следующая команда, которая подтянет новые изменения на локальный репозиторий:

```
git fetch [remote-name]
```
![альтернативный текст](https://lh5.googleusercontent.com/83FD4456wsHBoyyzQmFkIbyjf-vkDL1Fvd1jXUS90HcQViC7NZ_79NC-oQSvFaxPlUJQfax9SAot82W6L0iPKmDcq2tPmWDhM8vlsusBuyvypfJB1qFcd8N9-KPLaVj8bTbHtZrKUZmpddeAag_7dsI)

После выполнения команды появляются ссылки на все ветки из указанного удаленного репозитория. Данная команда забирает данные в наш локальный репозиторий, но не объединяет или перебазирует их с коммитами в локальном репозитории, связанного с удаленным. Поэтому используйте merge или rebase, когда закончите работать над изменениями.
![альтернативный текст](https://lh5.googleusercontent.com/AGK393h5dNU9etbfRPk_nuIOT22tMYWOcG04iXVxApFpBFbg0Tw7_ndJ2exv6yeDNTjhCCX2VUnrtvA76E7GzyV7i5dQKIRrOyP6pLbUfWEj11OBpjpbHprtaPF_yXJmAKD6eMjg8lRqTYiie5vPUWI)
Если ветка настроена на отслеживание удаленной ветки, то можно использовать более удобную команду:

```
git pull 
```
Данная команда заменяет прописывание двух команд:

```
git fetch; git merge
```
Есть и универсальнее способ: клонирование репозитория. Клонирование копирует все файлы и коммиты удаленного репозитория, после чего уже можно использовать предыдущую команду — git fetch, если понадобятся новые изменения из удаленного репозитория.

```
git clone [url]
```
Клонирование может быть по HTTPS, либо по SSH. Рассмотрим каждый вариант.

1. По HTTPS
* Может быть использовано независимо от видимости репозитория.
* Понадобятся имя пользователя и пароль аккаунта GitHub. В качестве пароля используется персональный токен доступа. Сгенерировать персональный токен доступа можно в настройках профиля GitHub (Settings > Developer Settings > Personal access tokens).
* Команда будет иметь вид:

```
git clone https://github.com/ИМЯПОЛЬЗОВАТЕЛЯ/РЕПОЗИТОРИЙ.git
```
2. По SSH
* Доступ к гиту предоставляется по защищенному протоколу.
* Необходимо сгенерировать пару SSH-ключей и добавить публичный ключ в аккаунт GitHub.
* Команда будет иметь вид:
```
git clone git@github.com:ИМЯПОЛЬЗОВАТЕЛЯ/РЕПОЗИТОРИЙ.git
```
В GitHub есть зеленая кнопка (Code), кликнув на которую можно будет скопировать url-адрес для выбранного способа клонирования или скачать архивом данный репозиторий.

![альтернативный текст](https://lh6.googleusercontent.com/AqMIQG53NK0rl5ZmwX23P6mZnG_hx-QvRVTBmFm8e_NyntGD2IMmCa740RH9xUn1Q9RrlSEezi9VASQxPcIlgVIqLTmfP_C7ZjDIBzR8ObP8NZoSZyRFmvCv_qyAHMDaZMhJlKieSYYk99rsAoaj2ac)

Для клонирования определенной ветки репозитория, допишите флаг ***—single-branch:***
```
git clone --single-branch [url]
```
После работы git clone отслеживание удаленный ветки ставится автоматически.

Если же при клонировании вы хотите другое название (не origin) удаленному репозиторию, то выполните:
```
git clone -o ticgit
```
Тогда по умолчанию ветка слежения будет иметь вид ticgit/master (tcgit — пример названия удаленного репозитория).

Работа git clone пошагово выглядит так:

1. Создается новая директория.

2. В ней создается репозиторий посредством выполнения git init.
3. Выполняется команда git remote add origin, которая добавляет по URL (назван origin) удаленный репозиторий.
4. Подхватываются новые изменения данного удаленного репозитория через git fetch.
5. С помощью git checkout извлекается последний коммит в рабочую директорию.

![альтернативный текст](https://lh6.googleusercontent.com/yCyt4w2wGOt7RJsyQIV7oI8IkAzPcDpJppJa2R5Bxl23yPcVYbzw9URN5JATn4wibsjrPH2HnmgCR2wz4sqPvNEYciQl96gP8BNLT3X6D-fO27Fz0RZnFDI5qvRKAPHAZCtc1A7p6SwdGBCfaRWaYKE)

## Удаление удаленного репозитория
Если интересует убрать подключение к удаленному репозиторию, то используйте команду

```
git remote rm <name>
```
Где \<name> — название репозитория. Вместе с тем удалятся настройки и отслеживаемые ветки.

Чтобы удалить сам удаленный репозиторий, это нужно сделать на сервере, на котором он размещен. На GitHub перейдите в раздел настроек (“Settings”), проскрольте до самого низа, где будет поле Danger Zone. Нажмите на ***Delete this repository,*** в открывшемся новом поле введите ***Имя пользователя*** /***Названия репозитория*** для подтверждения удаления. 

![альтернативный текст](https://lh3.googleusercontent.com/Ic9VuIhwXg8VisKV-bdBrtwlH4GXOZMdRRplNuPjVwZj_SN1TW9XksNFoX1mAW41JQZQa0iaT78wFgwwdtFnHkE_weGVNxGqgt_k9fHXAK1CtpAhZtiMhoBEUr5bU4qOc9YZfHCPwJt-Efp9dqkB54w)

## Заключение
Мы создали удаленный репозиторий, узнали про подключение удаленного репозитория разными способами, рассмотрели команды clone, fetch, push, pull для взаимодействия с ним.